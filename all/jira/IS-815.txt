title: SFCE [22912] [pvt] eStatement Delivery Preference Update
description: SFCE eStatement Delivery Preference Update

*IS Assessment:*

The following applications will need to be modified with this logic:

SFCEMS5 (Statement) Tohid

SFCEMC3 (HELOC) Le

SFCEMC4 (Billing Statement) Nar

SFCEMV4 (Visa Business) Rony

SFCEMV5 (Visa Classic) Rony

SFCEMV6 (Visa Platinum) Rony

SFCEDLA (Daily Notices) Nar







1.) Update dfa program to no longer use paperless file from ISD.

2.) Update dfa program to use Delivery Preference bases on the XML field eStatementOption provided by statement data generated by KeyStone


 * eStateementOption have the following options
 ** [M Mail statement only (Print) (Status = P in ISD enrollment file)|https://owa.infoimageinc.com/owa/redir.aspx?C=V5PdpqwhgggBlqWzIu1xAZnyPmSmhYcDCDNIoM39Nq3nJVOayYHZCA..&URL=https%3a%2f%2fowa.infoimageinc.com%2fowa%2fredir.aspx%3fSURL%3dK_YcG0zvPl6Rk0scy08-ItTvoHgEkBDUuJTfV8lN9n4hJpBeN4HUCGgAdAB0AHAAOgAvAC8AdwB3AHcALgBpAG4AZgBvAGkAbQBhAGcAZQBpAG4AYwAuAGMAbwBtAC8A%26URL%3dhttp%253a%252f%252fwww.infoimageinc.com%252f]
 ** [E E-statement only  (eSup2) (Status = E in ISD enrollment file)|https://owa.infoimageinc.com/owa/redir.aspx?C=V5PdpqwhgggBlqWzIu1xAZnyPmSmhYcDCDNIoM39Nq3nJVOayYHZCA..&URL=https%3a%2f%2fowa.infoimageinc.com%2fowa%2fredir.aspx%3fSURL%3dK_YcG0zvPl6Rk0scy08-ItTvoHgEkBDUuJTfV8lN9n4hJpBeN4HUCGgAdAB0AHAAOgAvAC8AdwB3AHcALgBpAG4AZgBvAGkAbQBhAGcAZQBpAG4AYwAuAGMAbwBtAC8A%26URL%3dhttp%253a%252f%252fwww.infoimageinc.com%252f]
 ** [B E-statement and mail statement (Print) (Status = W in ISD enrollment file)|https://owa.infoimageinc.com/owa/redir.aspx?C=V5PdpqwhgggBlqWzIu1xAZnyPmSmhYcDCDNIoM39Nq3nJVOayYHZCA..&URL=https%3a%2f%2fowa.infoimageinc.com%2fowa%2fredir.aspx%3fSURL%3dK_YcG0zvPl6Rk0scy08-ItTvoHgEkBDUuJTfV8lN9n4hJpBeN4HUCGgAdAB0AHAAOgAvAC8AdwB3AHcALgBpAG4AZgBvAGkAbQBhAGcAZQBpAG4AYwAuAGMAbwBtAC8A%26URL%3dhttp%253a%252f%252fwww.infoimageinc.com%252f]
 ** [The default is M. Indicates whether or not the account is enrolled for e-statements.|https://owa.infoimageinc.com/owa/redir.aspx?C=V5PdpqwhgggBlqWzIu1xAZnyPmSmhYcDCDNIoM39Nq3nJVOayYHZCA..&URL=https%3a%2f%2fowa.infoimageinc.com%2fowa%2fredir.aspx%3fSURL%3dK_YcG0zvPl6Rk0scy08-ItTvoHgEkBDUuJTfV8lN9n4hJpBeN4HUCGgAdAB0AHAAOgAvAC8AdwB3AHcALgBpAG4AZgBvAGkAbQBhAGcAZQBpAG4AYwAuAGMAbwBtAC8A%26URL%3dhttp%253a%252f%252fwww.infoimageinc.com%252f]  (Status = P in ISD enrollment File)

3.) Remove cid&jid from /home/keep/paperless/paperless.lis file.

4.) Create a new ISD enrollment file and trigger ISD PUI server. This needs to be triggered after send trigger PUI statement processing. Order of the call matters! The following are the specifications:



Filenaming convention:

sfce(jid)_enrollment_MMDDYYYY.txt

e.g.:

sfcems5_enrollment_02252022.txt

Please file in $d_dir/isd_input/I3/process-files/sfce/





File Contents Specifications:

The fields required in this enrollment files are as listed below. Please include the following line as a heading in this file. For CIF Number field, please use the Account Number Value. The Status value specs are list above in step 2.



CIF Number|Account Number|Account Name|Email|Status



e.g.:

CIF Number|Account Number|Account Name|Email|Status

22222|22222|John Doe|jd@yahoo.com|E

54321|54321|Bib Miller|bmiller@gmail.com|W

99999|99999|Rachael Paxton|paxtonr@hotmail.com|P



Full ISD documentation is located in:

[https://confluence.infoimageinc.com/x/YxZ6B]





Trigger Logic:

I believe we can reuse /home/master/I3.socket.pl

Make sure enviroment variable e_paperless is set to y and paperlessFile environment variable is set to the enrollment file name

e.g.:

e_paperless=y

paperlessFile=sfcems5_enrollment_02252022.txt



*5*. If <eStatementOption>and/or <eStatementEmailAddress> tag is missing, do create Print, do create eStatement Archival, and do create PDF archival.

Create a report providing a list of member numbers with<eStatementOption>== "B" andsend email to "fmartinez@sanfranciscofcu.com,[stephen.yee@infoimageinc.com,|mailto:stephen.yee@infoimageinc.com]tech4@sanfranciscofcu.com".

The report contain will contain a list of account numbers and should be placed in secure4 ftp server.

Here's the body of the email and the report file naming convention listed below.

*SUBJECT*: SFCE ${Application Name}:Corelation eStatementOptiontag == B

*BODY*:

Dear Valued Customer,

During processing we detected <eStatementOption> == B (E-statement and mail statement) into XML file. A printed statement will go out to your members. Please go to the FTP client_pickup folder to download the following report containing a list of account numberswith this XML tagto research:

sfce${jid}_B_xml_corelation.txt



Thank You,



Data Center

InfoIMAGE Inc.

650.473.6388

[Data_Center@infoimageinc.com|mailto:Data_Center@infoimageinc.com]


author: william.kong
comment: [~rony]/[~tohidulI]: Scope as changed a bit to whenever processing program does not see <eStatementOption> and/or <eStatementEmailAddress> tag. Report needs to be created and email needs to be sent. Do not create paper (i.e. NON-PRINT), do not create eStatemenet (i.e. non-estmt) but still create a statement for the PDF archival. See #5 in description of work for the specs and email language. I updated due date to be 3/31/2022. Please confirm if this ok.


author: william.kong
comment: Updated specs to specify secure4 (i.e. infoftps4/sfce/client_pickup folder) & fixed report file naming convention to no include pgp since there is no pgp encryption. Just use plain text.


author: tohiduli
comment: Hi [~stephen.yee@infoimageinc.com]

sample correlation report: /z/infoftps4/switchthink/sfce/client_pickup/sfcems5_B_xml_correlation.txt

I also forwarded a sample email.


author: stephen.yee@infoimageinc.com
comment: Looks good [~tohidulI]


author: tohiduli
comment: Hi [~stephen.yee@infoimageinc.com]

should we move this to QA?


author: stephen.yee@infoimageinc.com
comment: [~tohidulI] [~Igor.Khosid]- This has beenapproved. Please prepare for QA and change status to ready for QA. Please provide...

UPDATE: See description above. Update to how InfoIMAGE handles the delivery preference.

1. Parallel ID
2. Export projects into QA Folder
3. Provide DPVS for print samples - is this needed?
4. Provide index file for QA posting - is this needed?

SOW -http://sharepoint-svr/AS/Shared%20Documents/SOW%20Directory/SFCE%20-%20San%20Francisco%20Federal%20Credit%20Union/SOW/SFCE_ViewStatement.doc


author: tohiduli
comment: parallel ID:20220318062300

project exported to qa folder SFCEMS51.zip

print sample not needed

isd index: ms5_20220331_1_20220425_0144_sfce.txt


author: tohiduli
comment: [^IS-815_IS_CHECKLIST_04252022.docx]

attached is checklist


author: igor.khosid
comment: [~berezinez] - please review on stage


author: igor.khosid
comment:    Parallel ID: 20220318062300
   Currently in parallel: Yes
   User: tohidulI
   Description: IS-815 enrollment update
   Date Submitted: 2022-03-18 06:23:10
   Date Last Updated: 2022-04-25 02:10:27
   Files:
      1) sfcems5_template.control
      2) sfcems5.control
      3) SFCEMS51.dfa
      4) SFCEMS51.prj
      5) sfcems5_process.sh


author: berezinez
comment: [~tohidulI] [~stephen.yee@infoimageinc.com]

QA is completed, the changes looks good, please attach IS checklist.


author: berezinez
comment: [^SFCE_IS_815_IS_CHECKLIST.docx]

IS checklist attached.


author: tohiduli
comment: [^IS_PROGRAM_TRANSFER_FORM_IS_815.doc]

Hi [~TunA]

attached transfer form


author: tuna
comment: Hi [~tohidulI],

Following code has been released.

Thanks,

Tun





20220428093644 04/28/2022 tohidulI IS-815 SFCE eStatement Delivery Preference Update - Monthly Statements

[main@rhs ~]$ ll /d/is/cvs/xfer/tohidulI/
total 784
-rwxrwxrwx 1 tohidulI DSI 245239 Apr 28 09:29 SFCEMS51.dfa
-rwxrwxrwx 1 tohidulI DSI 734 Apr 28 09:29 SFCEMS51.prj
-rwxrwxrwx 1 tohidulI DSI 1348 Apr 28 09:29 sfcems5.control
-rwxrwxrwx 1 tohidulI DSI 16888 Apr 28 09:29 sfcems5_process.sh
-rwxrwxrwx 1 tohidulI DSI 10371 Apr 28 09:29 sfcems5_template.control


