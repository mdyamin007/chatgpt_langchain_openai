title: SFCE [22912] [pvt] eStatement Delivery Preference Update
description: SFCE eStatement Delivery Preference Update

IS Assessment:

The following applications will need to be modified with this logic:

SFCEMS5 (Statement) Tohid

SFCEMC3 (HELOC) Le

SFCEMC4 (Billing Statement) Nar

SFCEMV4 (Visa Business) Rony

SFCEMV5 (Visa Classic) Rony

SFCEMV6 (Visa Platinum) Rony

SFCEDLA (Daily Notices) Nar







1.) Update dfa program to no longer use paperless file from ISD.

2.) Update dfa program to use Delivery Preference bases on the XML field eStatementOption provided by statement data generated by KeyStone



eStateementOption have the following options
M Mail statement only (Print) (Status = P in ISD enrollment file)
E E-statement only  (eSup2) (Status = E in ISD enrollment file)
B E-statement and mail statement (Print) (Status = W in ISD enrollment file)
The default is M. Indicates whether or not the account is enrolled for e-statements.  (Status = P in ISD enrollment File)
3.) Remove cid&jid from /home/keep/paperless/paperless.lis file.

4.) Create a new ISD enrollment file and trigger ISD PUI server. This needs to be triggered before send trigger PUI statement processing. Order of the call matters! The following are the specifications:



Filenaming convention:

sfce(jid)_enrollment_MMDDYYYY.txt

e.g.:

sfcems5_enrollment_02252022.txt

Please file in $d_dir/isd_input/I3/process-files/sfce/





File Contents Specifications:

The fields required in this enrollment files are as listed below. Please include the following line as a heading in this file. For CIF Number field, please use the Account Number Value. The Status value specs are list above in step 2.



CIF Number|Account Number|Account Name|Email|Status



e.g.:

CIF Number|Account Number|Account Name|Email|Status

22222|22222|John Doe|jd@yahoo.com|E

54321|54321|Bib Miller|bmiller@gmail.com|W

99999|99999|Rachael Paxton|paxtonr@hotmail.com|P



Trigger Logic:

I believe we can reuse /home/master/I3.socket.pl

Make sure enviroment variable e_paperless is set to y and paperlessFile environment variable is set to the enrollment file name

e.g.:

e_paperless=y

paperlessFile=sfcems5_enrollment_02252022.txt

Full ISD documentation is located in:

https://confluence.infoimageinc.com/x/YxZ6B




author: 5b1ee5a72eea651bacdeca2e
comment: This is the requirements:

1. Remove edit permission for Delivery Preference into InfoTRAC.

2. Request InfoImage not to update Delivery Preference based on email bounce back - Report should still be provided to the CU
- undeliverableReport.email.invalidate=false, bounceBackReportAPI.email.invalidate=false

3. IS will provide an enrollment file to update the delivery preference.

- File Spec: CIF Number|Account Number|Account Name|Email|Status

4. ISD to set up internal_ftp scanner for enrollment file from IS

5. ISD will no longer need to produce paperless files (esupression files) for IS.


author: william.kong
comment: [~Tin.Chak]& [~abdullah.baki]: We are targetting to get all apps go live by 3/31/2022 with the exception of HELOC which we are hoping to go live by 4/8/2022. I updated your due date to 3/31/2022. Please coordinate with the team to ensure we make two release on 3/31 & 4/8. If there are any issues with the revised live dates mentioned here, Steve will let you know.

Also, we do NOT have eNotices for SFCE, so that will NOT be part of the scope of work.







[~stephen.yee@infoimageinc.com]: FYI.


author: rony
comment: Hi [~Azad]



Today we ran for classic ( mv5) and platinum (mv6)

Would you please, check if those files are posted ok?



mv5_enrollment_12222021.txt

mv5_20211221_1_20220316_0526_sfce.txt



mv6_enrollment_12262021.txt

mv6_20211225_1_20220316_0536_sfce.txt



[~tohidulI] [~William.Kong] [~stephen.yee@infoimageinc.com]

Thanks






author: azad
comment: Hi [~rony]

Both mv5 and mv6 are posted ok with 3 error count for mv5 and 9 error count for mv6. The errors occurred because those accounts are switching to electronic but no email is provided.(PUI-pilot jobid 187282 and 187283 respectively).

Thanks

Azad


author: tohiduli
comment: Hi [~Azad]



can you check if the enrollment file posted correctly? cid: sfce, jid: ms5

ms5_enrollment_03312021.txt


author: azad
comment: Hi [~tohidulI],

I've posted the file (ms5_enrollment_03312021.txt) and analysed the log (jid ref# 187749).

There are total of 46563 records in which 163 failed as no email was provided despite those accounts were switching to electronic (status was 'E' but email field was empty).

Thanks!




author: 5b1ee5a72eea651bacdeca2e
comment: Azhar,



No need for you to release this flag:
 - undeliverableReport.email.invalidate=false, bounceBackReportAPI.email.invalidate=false

It will be released with project ISD-6830.


author: azad
comment: [~Tin.Chak]

Noted.

Thanks!.


author: rony
comment: Hi [~Tin.Chak]

mv6_enrollment_03262022.txt

mv6_20220325_1_20220428_0929_sfce.txt

Would you please try to post in stage and let us know.



[~stephen.yee@infoimageinc.com]

Thanks

Rony




author: rony
comment: Hi [~Tin.Chak]

Any update?



Thanks


author: 5b1ee5a72eea651bacdeca2e
comment: [~eric.yan] Can you help post this on Stage? Thanks.


author: tohiduli
comment: Hi [~Azad]

can you post the the following files on pilot?

mc3_enrollment_06112021

mc3_20210610_1_20220506_0502_sfce.txt



[~stephen.yee@infoimageinc.com]


author: azad
comment: Hi [~tohidulI]

_mc3_enrollment_06112021.txt_ is posted on Pilot (jid #187914) without any error.

Thnaks


author: stephen.yee@infoimageinc.com
comment: [~tohidulI]- were the files from Rony posted to Stage? I didn't see any response.

mv6_enrollment_03262022.txt

mv6_20220325_1_20220428_0929_sfce.txt

Would you please try to post in stage and let us know.




author: rony
comment: [~Azad]

Would you please try to post

mv6_enrollment_03262022.txt

mv6_20220325_1_20220428_0929_sfce.txt

in stage and let us know.



[~stephen.yee@infoimageinc.com]



Thanks


author: azad
comment: [~rony]

_mv6_enrollment_03262022.txt_ is posted on stage (jid:193394). Posted without any error.

Thanks!


author: stephen.yee@infoimageinc.com
comment: [~rony]- please advise on testing. We need to move this QA asap.


author: tohiduli
comment: Hi [~Azad]



Can you post the following isd index file in stage?

/z/isd_input_dev/I3/process-files/sfce/mc3_20210610_1_20220506_0526_sfce.txt



also the following enrollment file in stage?

/z/isd_input_dev/I3/process-files/sfce/mc3_enrollment_06112021.txt


author: azad
comment: [~tohidulI]

I have posted the files and no error is encountered.

Thanks




author: tohiduli
comment: Hi [~Igor.Khosid], [~Andrey.Kutsenko]

Azhar was able to post the files without any error. Can you check?


author: JIRAUSER11104
comment: Sure. Thank you [~tohidulI], [~Azad]

I'll check and let you know the result.




author: shun.kuwashima
comment: [~Andrey.Kutsenko] [~stephen.yee@infoimageinc.com] Any updates on this? Was this supposed to be released to production already or are we still waiting on something?

[~Azad] [~Tin.Chak] fyi


author: JIRAUSER11104
comment: QA is completed.


author: stephen.yee@infoimageinc.com
comment: [~Shun.Kuwashima] [~Azad]- I thought this was rolled out. All of the other apps have been. Please roll out if not already..


author: azad
comment: [~Shun.Kuwashima] [~stephen.yee@infoimageinc.com]

This ticket is rolled out to Production today.

[~Tin.Chak]FYI

Thanks
